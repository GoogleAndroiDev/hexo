---
title: Git的一些关键配置
layout: post
date: 2017-02-12 19:49:57
comments: true
categories: Git
tags: [Git经验]
---
> 经常更换/迁移开发环境，有时git的一些细节配置会对开发造成影响。这里记录下开发过程中遇到的一些问题或者小Tips。
> (文章持续更新...)

### 忽略大小写敏感
经常会在IDE(Android Studio)遇到修改不了“大写命名的文件”名称，可配置git使文件名对大小写敏感。 
 
```
git config core.ignorecase false
```  

### 请确认工程的使用者
在不同pc上可能存在全局Git配置，在`git clone`下项目之后最好通过  

```
git config user.name 
```  
是否是当前正确的用户在操作工程项目。

### 处理Github没有记录Contributions
在别人的PC上`git clone`自己项目进行膝盖，发现push之后看不到自己的Contributions。后来发现该commits不符合条件，原因是commits使用的email账户与项目对应的Github账号不一致。 
 
* 排查问题
  
使用`git log`查本地提交记录发现，commit记录的邮箱不是对应我项目的账号邮箱。

* 修改repo的Git记录  

在本地拉全新的临时项目：  

```
git clone <git repo>
```     
创建一个修改脚本  

```
touch modify_repo.sh
```   

写入以下脚本信息，并替换`<>`内的内容
  
```   
git filter-branch --env-filter '
OLD_EMAIL= <旧的Email地址>
CORRECT_NAME= <正确的用户名>
CORRECT_EMAIL= <正确的邮件地址>
if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]
then
    export GIT_COMMITTER_NAME="$CORRECT_NAME"
    export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"
fi
if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]
then
    export GIT_AUTHOR_NAME="$CORRECT_NAME"
    export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"
fi
' --tag-name-filter cat -- --branches --tags
```    
运行脚本修改记录

```
./modify_repo.sh  //或 bash modify_repo.sh
```
查看修改后的Git记录，并推送到远端仓库

```
git log
git push --force --tags origin 'refs/heads/*'
```
删除临时项目
```
cd ../
rm -rf <git repo>
```



**更新记录**
>2018/03/02  新增修改repo的Git记录




